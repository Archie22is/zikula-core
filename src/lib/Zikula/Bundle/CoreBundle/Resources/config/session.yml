services:
    _defaults:
        autowire: true
        autoconfigure: true
        public: false

    Zikula\Bridge\:
        resource: '../../../../Bridge/*'

    Zikula\Bridge\HttpFoundation\DoctrineSessionHandler:
        arguments:
          $installed: '%installed%'
        calls:
            - setStorage: ['@zikula_core.bridge.http_foundation.zikula_session_storage_doctrine']
    zikula_core.bridge.http_foundation.doctrine_session_handler:
        alias: Zikula\Bridge\HttpFoundation\DoctrineSessionHandler

    zikula_core.bridge.http_foundation.zikula_session_storage_doctrine:
        class: Zikula\Bridge\HttpFoundation\ZikulaSessionStorage
        arguments:
          $options: '%session.storage.options%'
        calls:
            - setSaveHandler: ['@Zikula\Bridge\HttpFoundation\DoctrineSessionHandler']

    zikula_core.bridge.http_foundation.zikula_session_storage_file:
        class: Zikula\Bridge\HttpFoundation\ZikulaSessionStorage
        arguments:
          $options: '%session.storage.options%'
        calls:
            - setSaveHandler: ['@session.handler.native_file']
