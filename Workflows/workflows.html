<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <title>Zikula Core</title>
        <link rel="stylesheet" href="https://docs.ziku.la/css/bootstrap.min.css">
        <link rel="stylesheet" href="https://docs.ziku.la/css/font-awesome.min.css">
        <link rel="stylesheet" href="https://docs.ziku.la/css/highlight.tomorrow-night.css">
        <link rel="stylesheet" href="https://docs.ziku.la/css/main.css">

        <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
        <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
        <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
        <link rel="manifest" href="/site.webmanifest">
        <link rel="mask-icon" href="/safari-pinned-tab.svg" color="#5bbad5">
        <meta name="msapplication-TileColor" content="#da532c">
        <meta name="theme-color" content="#ffffff">
    </head>
    <body>
        <header class="navbar fixed-top navbar-dark bg-dark">
            <a class="navbar-brand" href="https://docs.ziku.la/">
                Zikula Core
                <small class="d-none d-lg-inline">
                    Zikula CMS and Symfony framework
                </small>
            </a>
                            <a href="https://github.com/zikula/core">
                    <img style="position: absolute; top: 0; right: 0; border: 0;" src="https://docs.ziku.la/images/fork.png" alt="Fork me on GitHub" />
                </a>
                    </header>
        <main class="container-fluid">
            <div class="row">
                                    <nav id="sidebar" class="col-md-3 col-xl-2" role="navigation">
                                                    <p class="text-muted">
                                General
                            </p>
                            <ul class="nav flex-column">
                                                                    <li class="nav-item">
                                        <a href="https://docs.ziku.la/index.html" class="nav-link">
                                            Home page
                                        </a>
                                    </li>
                                                                    <li class="nav-item">
                                        <a href="https://docs.ziku.la/features.html" class="nav-link">
                                            Features
                                        </a>
                                    </li>
                                                                    <li class="nav-item">
                                        <a href="https://docs.ziku.la/roadmap.html" class="nav-link">
                                            Roadmap
                                        </a>
                                    </li>
                                                                    <li class="nav-item">
                                        <a href="https://docs.ziku.la/requirements.html" class="nav-link">
                                            Requirements
                                        </a>
                                    </li>
                                                                    <li class="nav-item">
                                        <a href="https://docs.ziku.la/install.html" class="nav-link">
                                            Installation
                                        </a>
                                    </li>
                                                                    <li class="nav-item">
                                        <a href="https://docs.ziku.la/upgrade.html" class="nav-link">
                                            Upgrade
                                        </a>
                                    </li>
                                                                    <li class="nav-item">
                                        <a href="https://docs.ziku.la/Contributing/index.html" class="nav-link">
                                            Contributing
                                        </a>
                                    </li>
                                                                    <li class="nav-item">
                                        <a href="https://docs.ziku.la/Releases/index.html" class="nav-link">
                                            Releases
                                        </a>
                                    </li>
                                                                    <li class="nav-item">
                                        <a href="https://docs.ziku.la/vendorinformation.html" class="nav-link">
                                            Vendor information
                                        </a>
                                    </li>
                                                            </ul>
                                                    <p class="text-muted">
                                Administrators
                            </p>
                            <ul class="nav flex-column">
                                                                    <li class="nav-item">
                                        <a href="https://docs.ziku.la/Admin/index.html" class="nav-link">
                                            Overview
                                        </a>
                                    </li>
                                                            </ul>
                                                    <p class="text-muted">
                                Developers
                            </p>
                            <ul class="nav flex-column">
                                                                    <li class="nav-item">
                                        <a href="https://docs.ziku.la/Developer/index.html" class="nav-link">
                                            Overview
                                        </a>
                                    </li>
                                                                    <li class="nav-item">
                                        <a href="https://docs.ziku.la/Developer/Api/index.html" class="nav-link">
                                            APIs
                                        </a>
                                    </li>
                                                                    <li class="nav-item">
                                        <a href="https://docs.ziku.la/Developer/Categories/index.html" class="nav-link">
                                            Categories
                                        </a>
                                    </li>
                                                                    <li class="nav-item">
                                        <a href="https://docs.ziku.la/Developer/Doctrine/index.html" class="nav-link">
                                            Doctrine
                                        </a>
                                    </li>
                                                                    <li class="nav-item">
                                        <a href="https://docs.ziku.la/Developer/Events/index.html" class="nav-link">
                                            Events
                                        </a>
                                    </li>
                                                                    <li class="nav-item">
                                        <a href="https://docs.ziku.la/Developer/Forms/index.html" class="nav-link">
                                            Forms
                                        </a>
                                    </li>
                                                                    <li class="nav-item">
                                        <a href="https://docs.ziku.la/Developer/Hooks/index.html" class="nav-link">
                                            Hooks
                                        </a>
                                    </li>
                                                                    <li class="nav-item">
                                        <a href="https://docs.ziku.la/Developer/ModuleInterfaces/index.html" class="nav-link">
                                            Module interfaces
                                        </a>
                                    </li>
                                                                    <li class="nav-item">
                                        <a href="https://docs.ziku.la/Developer/Traits/index.html" class="nav-link">
                                            Traits
                                        </a>
                                    </li>
                                                                    <li class="nav-item">
                                        <a href="https://docs.ziku.la/Developer/UsersAndAuthentication/index.html" class="nav-link">
                                            Users and authentication
                                        </a>
                                    </li>
                                                                    <li class="nav-item">
                                        <a href="https://docs.ziku.la/Developer/OtherTopics/index.html" class="nav-link">
                                            Other topics
                                        </a>
                                    </li>
                                                                    <li class="nav-item">
                                        <a href="https://docs.ziku.la/Developer/ExtensionDevelopment/index.html" class="nav-link">
                                            Extension Development
                                        </a>
                                    </li>
                                                            </ul>
                                                    <p class="text-muted">
                                Further topics
                            </p>
                            <ul class="nav flex-column">
                                                                    <li class="nav-item">
                                        <a href="https://docs.ziku.la/Translation/index.html" class="nav-link">
                                            Translation
                                        </a>
                                    </li>
                                                                    <li class="nav-item">
                                        <a href="https://docs.ziku.la/Menu/index.html" class="nav-link">
                                            Menus
                                        </a>
                                    </li>
                                                                    <li class="nav-item">
                                        <a href="https://docs.ziku.la/Themes/index.html" class="nav-link">
                                            Themes
                                        </a>
                                    </li>
                                                                    <li class="nav-item">
                                        <a href="https://docs.ziku.la/templatesandassets.html" class="nav-link">
                                            Templates and Assets
                                        </a>
                                    </li>
                                                                    <li class="nav-item">
                                        <a href="https://docs.ziku.la/Twig/index.html" class="nav-link">
                                            Twig
                                        </a>
                                    </li>
                                                                    <li class="nav-item">
                                        <a href="https://docs.ziku.la/Workflows/workflows.html" class="nav-link active">
                                            Workflows
                                        </a>
                                    </li>
                                                            </ul>
                                                    <p class="text-muted">
                                Resources
                            </p>
                            <ul class="nav flex-column">
                                                                    <li class="nav-item">
                                        <a href="https://ziku.la" class="nav-link">
                                            Zikula website
                                        </a>
                                    </li>
                                                                    <li class="nav-item">
                                        <a href="https://github.com/zikula/core" class="nav-link">
                                            <i class="fab fa-github"></i> GitHub
                                        </a>
                                    </li>
                                                                    <li class="nav-item">
                                        <a href="https://joinslack.ziku.la/" class="nav-link">
                                            <i class="fab fa-slack"></i> Slack
                                        </a>
                                    </li>
                                                            </ul>
                                            </nav>
                                <section class="offset-md-3 offset-xl-2 col-md-9 col-xl-10">
                    <h1 id="workflows">Workflows</h1>
<p>Zikula utilises the Symfony Workflow component to provide workflow functionality.</p>
<p>You can read more about it in <a href="https://symfony.com/doc/master/components/workflow.html">the manual</a>.</p>
<h2 id="workflow-events">Workflow events</h2>
<p>Please see the <a href="https://symfony.com/doc/current/workflow/usage.html#using-events">Symfony docs</a> for a list of existing workflow events.</p>
<h2 id="custom-functionality">Custom functionality</h2>
<p>There are some slight differences regarding workflow behaviour in Zikula.</p>
<h3 id="workflow-locations">Workflow locations</h3>
<p>It seems that usually workflow definitions can only be stored at a central location. We wanted to make this more flexible so we allowed three different levels:</p>
<ol>
<li>Central workflows in the core system are placed in: <code>/src/Zikula/CoreBundle/Resources/workflows/</code></li>
<li>Modules can define their own workflows in: <code>/src/modules/Acme/MyBundle/Resources/workflows/</code></li>
<li>Also it is possible to define custom workflows (or override existing ones) in: <code>/config/workflows/</code></li>
</ol>
<p>Each of these directories may contain several YML (<code>*.yaml</code>) or XML (<code>*.xml</code>) files.</p>
<p><strong>Caution:</strong> when overriding existing workflows in <code>/config/workflows/someFile.yaml</code> (or <code>someFile.xml</code>) ensure that these workflows get new, unique names. Otherwise transitions will be added to the original workflow instead of redefining a custom workflow.</p>
<h3 id="workflow-editor">Workflow editor</h3>
<p>Zikula provides a JavaScript-based workflow editor.</p>
<p><img src="images/workflow_ui.png" alt="Workflow editor" /></p>
<p>The editor expects the name of a workflow which should be loaded. You can for example include a link to it like this:</p>
<pre><code class="language-twig">&lt;p&gt;&lt;a href="{{ path('zikula_workflow_editor_index', { 'workflow': 'acmetestmodule_enterprise' }) }}" title="{{ __('Edit workflow for articles') }}" target="_blank"&gt;{{ __('Articles workflow') }}&lt;/a&gt;</code></pre>
<p>The editor can switch between <code>workflow</code> (petri net) and <code>state_machine</code> modes. There are several differences between these. For example if you have a transition with more than one input like this:</p>
<pre><code class="language-yaml">accept:
    from: [initial, waiting]
    to: accepted</code></pre>
<p>When using in a petri net this transition is only enabled if the marking has both places. So your object needs both <code>froms</code> to transition into <code>to</code>. If you want two different <code>froms</code> you'll need two different transitions.</p>
<p>At the moment the editor supports YAML and XML output. It does not provide means for saving the changed workflows, because when upgrading an existing workflows it must be considered that objects could be in a state which does not exist anymore. You need to update your database to update these objects in order to avoid problems.</p>
                </section>
            </div>
        </main>
        <script src="https://docs.ziku.la/js/jquery.min.js"></script>
        <script src="https://docs.ziku.la/js/bootstrap.bundle.min.js"></script>
        <script src="https://docs.ziku.la/js/highlight.pack.js"></script>
        <script>
            $(function() {
                $('section > h1').wrap('<div class="page-header" />');
                                hljs.initHighlightingOnLoad();
                $("a[href^='http']:not([href*='docs.ziku.la'])").attr('target', '_blank');
            });
        </script>
    </body>
</html>
