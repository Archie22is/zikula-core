<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <title>Zikula Core</title>
        <link rel="stylesheet" href="https://docs.ziku.la/css/bootstrap.min.css">
        <link rel="stylesheet" href="https://docs.ziku.la/css/font-awesome.min.css">
        <link rel="stylesheet" href="https://docs.ziku.la/css/highlight.tomorrow-night.css">
        <link rel="stylesheet" href="https://docs.ziku.la/css/main.css">

        <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
        <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
        <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
        <link rel="manifest" href="/site.webmanifest">
        <link rel="mask-icon" href="/safari-pinned-tab.svg" color="#5bbad5">
        <meta name="msapplication-TileColor" content="#da532c">
        <meta name="theme-color" content="#ffffff">
    </head>
    <body>
        <header class="navbar fixed-top navbar-dark bg-dark">
            <a class="navbar-brand" href="https://docs.ziku.la/" class="align-items-center">
                <img src="/favicon-32x32.png" alt="Zikula" />
                Zikula Core
                <small class="d-none d-lg-inline">
                    Zikula CMS and Symfony framework
                </small>
            </a>
                            <a href="https://github.com/zikula/core">
                    <img style="position: absolute; top: 0; right: 0; border: 0;" src="https://docs.ziku.la/images/fork.png" alt="Fork me on GitHub" />
                </a>
                    </header>
        <main class="container-fluid">
            <div class="row">
                                    <nav id="sidebar" class="col-md-3 col-xl-2" role="navigation">
                                                    <p class="text-muted">
                                <a href="#section1" data-toggle="collapse">
                                    General
                                </a>
                            </p>
                            <ul id="section1" class="nav flex-column collapse show">
                                                                    <li class="nav-item">
                                        <a href="https://docs.ziku.la/index.html" class="nav-link">
                                            About
                                        </a>
                                    </li>
                                                                    <li class="nav-item">
                                        <a href="https://docs.ziku.la/General/Contributing/index.html" class="nav-link">
                                            Contributing
                                        </a>
                                    </li>
                                                                    <li class="nav-item">
                                        <a href="https://docs.ziku.la/General/Releases/index.html" class="nav-link">
                                            Roadmap and Releases
                                        </a>
                                    </li>
                                                                    <li class="nav-item">
                                        <a href="https://docs.ziku.la/General/vendorinformation.html" class="nav-link">
                                            Vendor information
                                        </a>
                                    </li>
                                                            </ul>
                                                    <p class="text-muted">
                                <a href="#section2" data-toggle="collapse">
                                    Setup
                                </a>
                            </p>
                            <ul id="section2" class="nav flex-column collapse">
                                                                    <li class="nav-item">
                                        <a href="https://docs.ziku.la/Setup/requirements.html" class="nav-link">
                                            Requirements
                                        </a>
                                    </li>
                                                                    <li class="nav-item">
                                        <a href="https://docs.ziku.la/Setup/installation.html" class="nav-link">
                                            Installation
                                        </a>
                                    </li>
                                                                    <li class="nav-item">
                                        <a href="https://docs.ziku.la/Setup/upgrade.html" class="nav-link">
                                            Upgrade
                                        </a>
                                    </li>
                                                            </ul>
                                                    <p class="text-muted">
                                <a href="#section3" data-toggle="collapse">
                                    Configuration
                                </a>
                            </p>
                            <ul id="section3" class="nav flex-column collapse">
                                                                    <li class="nav-item">
                                        <a href="https://docs.ziku.la/Configuration/Settings/index.html" class="nav-link">
                                            Main settings
                                        </a>
                                    </li>
                                                                    <li class="nav-item">
                                        <a href="https://docs.ziku.la/Configuration/Localisation/index.html" class="nav-link">
                                            Localisation
                                        </a>
                                    </li>
                                                                    <li class="nav-item">
                                        <a href="https://docs.ziku.la/Configuration/Mailer/index.html" class="nav-link">
                                            Mailer
                                        </a>
                                    </li>
                                                                    <li class="nav-item">
                                        <a href="https://docs.ziku.la/Configuration/AdminPanel/index.html" class="nav-link">
                                            Admin panel
                                        </a>
                                    </li>
                                                                    <li class="nav-item">
                                        <a href="https://docs.ziku.la/Configuration/Security/index.html" class="nav-link">
                                            Security center
                                        </a>
                                    </li>
                                                                    <li class="nav-item">
                                        <a href="https://docs.ziku.la/Configuration/Extensions/index.html" class="nav-link">
                                            Extensions
                                        </a>
                                    </li>
                                                                    <li class="nav-item">
                                        <a href="https://docs.ziku.la/Configuration/Routes/index.html" class="nav-link">
                                            Routes
                                        </a>
                                    </li>
                                                                    <li class="nav-item">
                                        <a href="https://docs.ziku.la/Configuration/Workflows/index.html" class="nav-link active">
                                            Workflows
                                        </a>
                                    </li>
                                                            </ul>
                                                    <p class="text-muted">
                                <a href="#section4" data-toggle="collapse">
                                    Access Control
                                </a>
                            </p>
                            <ul id="section4" class="nav flex-column collapse">
                                                                    <li class="nav-item">
                                        <a href="https://docs.ziku.la/AccessControl/Groups/index.html" class="nav-link">
                                            Groups
                                        </a>
                                    </li>
                                                                    <li class="nav-item">
                                        <a href="https://docs.ziku.la/AccessControl/Users/index.html" class="nav-link">
                                            Users
                                        </a>
                                    </li>
                                                                    <li class="nav-item">
                                        <a href="https://docs.ziku.la/AccessControl/Authentication/index.html" class="nav-link">
                                            Authentication
                                        </a>
                                    </li>
                                                                    <li class="nav-item">
                                        <a href="https://docs.ziku.la/AccessControl/Permissions/index.html" class="nav-link">
                                            Permissions
                                        </a>
                                    </li>
                                                            </ul>
                                                    <p class="text-muted">
                                <a href="#section5" data-toggle="collapse">
                                    Layout &amp; Design
                                </a>
                            </p>
                            <ul id="section5" class="nav flex-column collapse">
                                                                    <li class="nav-item">
                                        <a href="https://docs.ziku.la/LayoutDesign/Templating/index.html" class="nav-link">
                                            Templating
                                        </a>
                                    </li>
                                                                    <li class="nav-item">
                                        <a href="https://docs.ziku.la/LayoutDesign/Themes/index.html" class="nav-link">
                                            Themes
                                        </a>
                                    </li>
                                                                    <li class="nav-item">
                                        <a href="https://docs.ziku.la/LayoutDesign/Blocks/index.html" class="nav-link">
                                            Blocks
                                        </a>
                                    </li>
                                                                    <li class="nav-item">
                                        <a href="https://docs.ziku.la/LayoutDesign/Menus/index.html" class="nav-link">
                                            Menus
                                        </a>
                                    </li>
                                                                    <li class="nav-item">
                                        <a href="https://docs.ziku.la/LayoutDesign/Forms/index.html" class="nav-link">
                                            Forms
                                        </a>
                                    </li>
                                                            </ul>
                                                    <p class="text-muted">
                                <a href="#section6" data-toggle="collapse">
                                    Translation
                                </a>
                            </p>
                            <ul id="section6" class="nav flex-column collapse">
                                                                    <li class="nav-item">
                                        <a href="https://docs.ziku.la/Translation/index.html" class="nav-link">
                                            Overview
                                        </a>
                                    </li>
                                                            </ul>
                                                    <p class="text-muted">
                                <a href="#section7" data-toggle="collapse">
                                    Integration
                                </a>
                            </p>
                            <ul id="section7" class="nav flex-column collapse">
                                                                    <li class="nav-item">
                                        <a href="https://docs.ziku.la/Integration/Categories/index.html" class="nav-link">
                                            Categories
                                        </a>
                                    </li>
                                                                    <li class="nav-item">
                                        <a href="https://docs.ziku.la/Integration/Search/index.html" class="nav-link">
                                            Search
                                        </a>
                                    </li>
                                                            </ul>
                                                    <p class="text-muted">
                                <a href="#section8" data-toggle="collapse">
                                    Extensions
                                </a>
                            </p>
                            <ul id="section8" class="nav flex-column collapse">
                                                                    <li class="nav-item">
                                        <a href="https://docs.ziku.la/Extensions/content.html" class="nav-link">
                                            Content
                                        </a>
                                    </li>
                                                                    <li class="nav-item">
                                        <a href="https://docs.ziku.la/Extensions/other.html" class="nav-link">
                                            Other
                                        </a>
                                    </li>
                                                            </ul>
                                                    <p class="text-muted">
                                <a href="#section9" data-toggle="collapse">
                                    Extension Development
                                </a>
                            </p>
                            <ul id="section9" class="nav flex-column collapse">
                                                                    <li class="nav-item">
                                        <a href="https://docs.ziku.la/Development/General/index.html" class="nav-link">
                                            General
                                        </a>
                                    </li>
                                                                    <li class="nav-item">
                                        <a href="https://docs.ziku.la/Development/Doctrine/index.html" class="nav-link">
                                            Databases & Doctrine
                                        </a>
                                    </li>
                                                                    <li class="nav-item">
                                        <a href="https://docs.ziku.la/Development/Extensions/index.html" class="nav-link">
                                            Extension services
                                        </a>
                                    </li>
                                                                    <li class="nav-item">
                                        <a href="https://docs.ziku.la/Development/Hooks/index.html" class="nav-link">
                                            Hooks
                                        </a>
                                    </li>
                                                                    <li class="nav-item">
                                        <a href="https://docs.ziku.la/Development/Misc/index.html" class="nav-link">
                                            Misc
                                        </a>
                                    </li>
                                                                    <li class="nav-item">
                                        <a href="https://modulestudio.de/en/documentation/10-introduction/" class="nav-link">
                                            Model-driven approach
                                        </a>
                                    </li>
                                                            </ul>
                                                    <p class="text-muted">
                                <a href="#section10" data-toggle="collapse">
                                    Resources
                                </a>
                            </p>
                            <ul id="section10" class="nav flex-column collapse">
                                                                    <li class="nav-item">
                                        <a href="https://ziku.la" class="nav-link">
                                            Zikula website
                                        </a>
                                    </li>
                                                                    <li class="nav-item">
                                        <a href="https://github.com/zikula/core" class="nav-link">
                                            <i class="fab fa-github"></i> GitHub
                                        </a>
                                    </li>
                                                                    <li class="nav-item">
                                        <a href="https://joinslack.ziku.la/" class="nav-link">
                                            <i class="fab fa-slack"></i> Slack
                                        </a>
                                    </li>
                                                            </ul>
                                            </nav>
                                <section class="offset-md-3 offset-xl-2 col-md-9 col-xl-10">
                    <h1 id="workflows">Workflows</h1>
<p>Zikula utilises the Symfony Workflow component to provide workflow functionality.</p>
<p>You can read more about it in <a href="https://symfony.com/doc/master/components/workflow.html">the manual</a>.</p>
<h2 id="workflow-events">Workflow events</h2>
<p>Please see the <a href="https://symfony.com/doc/current/workflow/usage.html#using-events">Symfony docs</a> for a list of existing workflow events.</p>
<h2 id="custom-functionality">Custom functionality</h2>
<p>There are some slight differences regarding workflow behaviour in Zikula.</p>
<h3 id="workflow-locations">Workflow locations</h3>
<p>It seems that usually workflow definitions can only be stored at a central location. We wanted to make this more flexible so we allowed three different levels:</p>
<ol>
<li>Central workflows in the core system are placed in: <code>/src/Zikula/CoreBundle/Resources/workflows/</code></li>
<li>Modules can define their own workflows in: <code>/src/extensions/Acme/MyBundle/Resources/workflows/</code></li>
<li>Also it is possible to define custom workflows (or override existing ones) in: <code>/config/workflows/</code></li>
</ol>
<p>Each of these directories may contain several YML (<code>*.yaml</code>) or XML (<code>*.xml</code>) files.</p>
<p><strong>Caution:</strong> when overriding existing workflows in <code>/config/workflows/someFile.yaml</code> (or <code>someFile.xml</code>) ensure that these workflows get new, unique names. Otherwise transitions will be added to the original workflow instead of redefining a custom workflow.</p>
<h3 id="workflow-editor">Workflow editor</h3>
<p>Zikula provides a JavaScript-based workflow editor.</p>
<p><img src="images/workflow_ui.png" alt="Workflow editor" /></p>
<p>The editor expects the name of a workflow which should be loaded. You can for example include a link to it like this:</p>
<pre><code class="language-twig">&lt;p&gt;
    &lt;a href="{{ path('zikula_workflow_editor_index', {workflow: 'acmetestmodule_enterprise'}) }}" title="{% trans %}Edit workflow for articles{% endtrans %}" target="_blank"&gt;{% trans %}Articles workflow{% endtrans %}&lt;/a&gt;
&lt;/p&gt;</code></pre>
<p>The editor can switch between <code>workflow</code> (petri net) and <code>state_machine</code> modes. There are several differences between these. For example if you have a transition with more than one input like this:</p>
<pre><code class="language-yaml">accept:
    from: [initial, waiting]
    to: accepted</code></pre>
<p>When using in a petri net this transition is only enabled if the marking has both places. So your object needs both <code>froms</code> to transition into <code>to</code>. If you want two different <code>froms</code> you'll need two different transitions.</p>
<p>At the moment the editor supports YAML and XML output. It does not provide means for saving the changed workflows, because when upgrading an existing workflows it must be considered that objects could be in a state which does not exist anymore. You need to update your database to update these objects in order to avoid problems.</p>
                </section>
            </div>
        </main>
        <script src="https://docs.ziku.la/js/jquery.min.js"></script>
        <script src="https://docs.ziku.la/js/bootstrap.bundle.min.js"></script>
        <script src="https://docs.ziku.la/js/highlight.pack.js"></script>
        <script src="https://docs.ziku.la/js/site.js"></script>
    </body>
</html>
